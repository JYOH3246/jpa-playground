# 7-3.6 식별, 비식별 관계의 장단점

### 데이터베이스 설계 관점
- 식별 관계는 부모 테이블의 기본 키를 자식 테이블로 전파하면서 자식 테이블의 기본
  키 컬럼이 점점 늘어난다. 결국 조인할 때 SQL이 복잡해지고 기본 키 인덱스가
  불필요하게 커질 수 있다.
- 식별 관계는 2개 이상의 컬럼을 합해서 복합 기본 키를 만들어야 하는 경우가 많다.
- 비즈니스 요구사항은 시간이 지남에 따라 언젠가는 변한다.
  식별 관계의 자연 키 컬럼들이 자식에 손자까지 전파되면 변경하기 힘들다
- 식별 관계는 테이블 구조가 유연하지 못하다.
### 객체 관계 매핑 관점
- 일대일 관계를 제외하고 식별 관계는 2개 이상의 컬럼을 묶은 복합 기본 키를 사용한다.
  JPA에서 복합 키는 별도의 복합 키 클래스를 만들어서 사용해야 한다. 따라서 컬럼이
  하나인 기본 키를 매핑하는 것보다 많은 노력이 필요하다.
- 비식별 관계의 기본 키는 주로 대리 키를 사용하는데 
  JPA는 @GenerateValue처럼 대리 키를 생성하기 위한 편리한 방법을 제공한다.
  
### 식별 관계가 가지는 장점도 있다.
- 기본 키 인덱스를 활용하기 좋다.
  (상위 테이블에서 정의해놓은 인덱스를 그대로 사용할 수 있다)

## 정리
프로젝트 진행시 추천하는 방법은 될 수 있으면 비식별 관계를 사용하고,
기본 키는 Long타입의 대리 키를 사용하는 것이다. 